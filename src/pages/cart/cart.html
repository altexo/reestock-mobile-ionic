<!--
  Generated template for the CartPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Cart</ion-title>
    <ion-buttons end>
        <button class="close-button" padding (click)="closeCartModal()">
          <ion-icon class="close-icon" name="close"></ion-icon>
        </button>
      </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content >
  <div class="cart-item">
    <ion-grid *ngFor="let p of products; let i = index" class="background-grid">
      <ion-row class="background-row">
        <ion-col>
          <!-- <img [src]="'http://reestock.com.mx/'+p.products.product_img"> -->
          <img [src]=" ('http://reestock.com.mx/'+p.products.product_img) || (loadingGif) "> 
        </ion-col>
        <ion-col col-8>
          <ion-row>
            <ion-col col-12 class="product-details">
              <ion-label><b>{{p.products.product_name}}</b></ion-label>
            </ion-col>
            <ion-col col-12 class="product-details">
              <ion-label class="product-brand">{{p.products.brand}} {{p.products.unity}}</ion-label>
            </ion-col>
            <ion-col col-12 style="display: inline-flex;   align-items: center;
            ">
                <!-- <ion-icon name="add" class='icon ion-plus-round icon-plus-round' mouse-down-up ng-click='addProduct(product)'></ion-icon>
                <span class='product-quantity'>{{p.quantity}}</span>
             <i class='icon ion-minus-round icon-minus-round' mouse-down-up ng-click='removeProduct(product)'></i> -->
                <button ion-button small color="danger" (click)="quantityHandler('minus', p.id, i)" [ngClass]="{'section-active': p.open, 'section': !p.open}"><ion-icon name="remove"></ion-icon></button>
                <span  class="qty" *ngIf="!p.open" value="p.quantity">{{p.quantity}}</span>
                <ion-spinner name="dots" *ngIf="p.open"></ion-spinner>
                <button ion-button small color="danger" (click)="quantityHandler('plus',p.id, i)" [ngClass]="{'section-active': p.open, 'section': !p.open}"><ion-icon name="add"></ion-icon></button>
                <button ion-button small color="danger" ><ion-icon name="paper"></ion-icon></button>
                <button ion-button small color="danger" (click)="deleteFromCart(p.id, i)"><ion-icon name="trash"></ion-icon></button>
            </ion-col>
          </ion-row>
        </ion-col>
        <ion-col style="font-size: 8pt;">
            ${{p.sale_price}} 
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
  <ion-footer no-shadow>
      <ion-toolbar position="bottom">
        <button ion-button full color="light" class="continue-button">Continuar</button>
      </ion-toolbar>
    </ion-footer>
</ion-content>
